#!/bin/bash

source $(dirname "${BASH_SOURCE}")/abash/abash.sh

if [ $# -eq 0 ]; then
  usage 'FILE [FILE] ...'
fi

argv=()
for ARG in "$@"; do

  if [[ $ARG =~ ^[0-9a-zA-Z]*:// ]]; then
    argv+=($ARG)
    continue
  fi

  if [ ! -e "$ARG" ]; then
    warn "'$ARG' does not exist"
    continue
  fi

  if [ ! -r "$ARG" ]; then
    warn "no permission to read '$ARG'"
    continue
  fi

  argv+=($ARG)
done

exo-open ${argv[*]}
